I"å<h3 id="å¿…å¤‡æ’ä»¶">å¿…å¤‡æ’ä»¶</h3>

<ul>
  <li>ifunbox æ–‡ä»¶æŸ¥çœ‹</li>
  <li>Apple File Conduit â€œ2â€ æ–‡ä»¶è®¿é—®è·¯å¾„å˜æˆæ ¹ç›®å½•ï¼ŒiOS9ä»¥åä¸æ”¯æŒ</li>
  <li>AppSync Unified ç»•è¿‡éªŒè¯ï¼ŒAPPå®‰è£…çš„ç­¾åæœºåˆ¶
    <ul>
      <li>è§£å†³iOS11ä¸Šè¿è¡ŒXcodeå´©æºƒ dyld: could not load inserted libraryâ€¦.</li>
    </ul>
  </li>
</ul>

<p><img src="https://fuqionglin-blog.oss-cn-qingdao.aliyuncs.com/%E6%BD%AD%E5%B7%9E/%E8%B6%8A%E7%8B%B1%E5%BC%80%E5%8F%91/01.jpg" alt="" /></p>

<blockquote>
  <p>ios11ä¸Šä¸å¯ç”¨viewDebug</p>
</blockquote>

<ul>
  <li>å®‰è£…openSSHæ’ä»¶</li>
</ul>

<p><img src="https://fuqionglin-blog.oss-cn-qingdao.aliyuncs.com/%E6%BD%AD%E5%B7%9E/%E8%B6%8A%E7%8B%B1%E5%BC%80%E5%8F%91/02.jpg" alt="" /></p>

<h3 id="ssh">SSH</h3>
<ul>
  <li>SSHæ˜¯ä¸€ç§ç½‘ç»œåè®®.ç”¨äºè®¡ç®—æœºä¹‹é—´çš„åŠ å¯†ç™»å½•!</li>
  <li>openSSHå…¶ä¸­ä¸€ç§è¿ç”¨åè®®çš„è½¯ä»¶.</li>
  <li>SSHé€šè®¯è¿‡ç¨‹</li>
</ul>

<p><img src="https://fuqionglin-blog.oss-cn-qingdao.aliyuncs.com/%E6%BD%AD%E5%B7%9E/%E8%B6%8A%E7%8B%B1%E5%BC%80%E5%8F%91/03.jpg" alt="" /></p>

<ul>
  <li>ä¸­é—´äººæ”»å‡»(Man-in-the-MiddleAttackï¼Œç®€ç§°â€œMITMæ”»å‡»â€)
    <ul>
      <li>é¢„é˜²ä¸­é—´äººæ”»å‡»æœ€æœ‰æ•ˆçš„æ–¹æ³•å°±æ˜¯éªŒè¯ å…¬é’¥æ˜¯ä¸æ˜¯æœåŠ¡å™¨çš„!!</li>
      <li>å¦‚æœæ˜¯å…¬å¼€çš„SSHæœåŠ¡å™¨,ä¸€èˆ¬ä¼šå°†å…¬é’¥çš„å“ˆå¸Œå€¼ å…¬å¸ƒåœ¨ç½‘ç«™ä¸Š!!</li>
    </ul>
  </li>
</ul>

<h5 id="é€šè¿‡opensshè¿æ¥ç™»å½•æ‰‹æœº">é€šè¿‡openSSHè¿æ¥(ç™»å½•)æ‰‹æœº</h5>

<pre><code class="language-objectivec">//ssh ç”¨æˆ·å@ç”¨æˆ·æœåŠ¡å™¨åœ°å€
$ ssh root@192.168.31.178
//é€€å‡º
$ exit
//åˆ é™¤SSHæœåŠ¡å™¨å¯¹åº”çš„å…¬é’¥
$ ssh-keygen -R æœåŠ¡å™¨IPåœ°å€
</code></pre>

<h5 id="iosä¸‹æœ‰ä¸¤ä¸ªç”¨æˆ·">iOSä¸‹æœ‰ä¸¤ä¸ªç”¨æˆ·</h5>

<ul>
  <li>
    <p>root æœ€é«˜æƒé™çš„ç”¨æˆ·</p>

    <pre><code class="language-objectivec">$HOME:/var/root
  </code></pre>
  </li>
  <li>
    <p>è¿˜æœ‰ä¸€ä¸ª mobile</p>

    <pre><code class="language-objectivec">$HOME: /var/mobile
  </code></pre>
  </li>
</ul>

<h5 id="ä¿®æ”¹sshç™»å½•å¯†ç ">ä¿®æ”¹sshç™»å½•å¯†ç </h5>
<ul>
  <li>passwd è¾“å…¥ä¸¤æ¬¡æ–°å¯†ç </li>
</ul>

<h5 id="sshä½¿ç”¨å…¬é’¥ç™»å½•">SSHä½¿ç”¨å…¬é’¥ç™»å½•</h5>
<ul>
  <li>é™¤äº†ä½¿ç”¨å¯†ç ç™»å½•,ä¹Ÿå¯ä»¥å…å¯†ç ç™»å½•!æ‰€è°“çš„â€å…¬é’¥ç™»å½•â€,åŸç†:
    <blockquote>
      <p>1.Macç”µè„‘å°†è‡ªå·±çš„å…¬é’¥å‘ç»™è¿œç¨‹çš„æ‰‹æœº
2.æ‰‹æœºéšæœºçš„ç”Ÿæˆä¸€æ®µå­—ç¬¦ä¸²,å‘ç»™Macç”µè„‘.
3.Macåˆ©ç”¨ç§é’¥åŠ å¯†å­—ç¬¦ä¸²!
4.æ‰‹æœºåˆ©ç”¨å…¬é’¥è§£å¯†å­—ç¬¦ä¸²!
  å¦‚æœè¿˜è¦è¾“å…¥å¯†ç çš„è¯,è®¾ç½®æ–‡ä»¶çš„æƒé™! chmod 755</p>
    </blockquote>
  </li>
</ul>

<pre><code class="language-objectivec">//ç”Ÿæˆå…¬ç§é’¥
$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/qionglinfu/.ssh/id_rsa):
/Users/qionglinfu/.ssh/id_rsa already exists.
Overwrite (y/n)? y
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /Users/qionglinfu/.ssh/id_rsa.
Your public key has been saved in /Users/qionglinfu/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:9XIlN1AjWwcqmZo/lVlj0Dp5uMWeejkKLstiBbJkF6s qionglinfu@bogon
The key's randomart image is:
+---[RSA 2048]----+
|            +o=..|
|      .    o B.o |
|       o  = +=B  |
|    + +  + o=O+o |
|   o = .S . ** . |
|    E   .. +. o  |
|       .  +  . . |
|      o... o. +  |
|     . .oo. .o . |
+----[SHA256]-----+

$ ls
id_rsa//ç§é’¥
id_rsa.pub//å…¬é’¥      
known_hosts     
known_hosts.old

//æŠŠå…¬é’¥æ‹·è´åˆ°æœåŠ¡å™¨
$ ssh-copy-id root@172.17.10.121
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/Users/qionglinfu/.ssh/id_rsa.pub"
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
root@172.17.10.121's password:

Number of key(s) added:        1

Now try logging into the machine, with:   "ssh 'root@172.17.10.121'"
and check to make sure that only the key(s) you wanted were added.

//å†æ¬¡ç™»é™†,æ— éœ€å¯†ç 
$ ssh root@172.17.10.121

//æŸ¥çœ‹æœåŠ¡å™¨å…¬é’¥
$ cd ~/.ssh
$ ls
authorized_keys
$ cat authorized_keys

//oræŸ¥çœ‹å…¬é’¥
$ cd /etc/ssh/
$ cat ssh_host_rsa_key.pub

</code></pre>

<h5 id="usb">USB</h5>
<ul>
  <li>SSHçš„é»˜è®¤ç«¯å£æ˜¯22</li>
  <li>usbmuxd	åœ¨iOSå’ŒMacä¸Šéƒ½æ˜¯è‡ªå¸¦çš„!</li>
  <li>SSHé€šè¿‡USBèµ°çš„è¯ã€‚éœ€è¦åšç«¯å£æ˜ å°„<a href="https://github.com/QionglinFu1024/QLTools.git">ä¸‹è½½python-client</a>,è„šæœ¬çš„ç›®çš„ç›‘å¬æœ¬æœºçš„12345ç«¯å£ï¼Œè®¾ç½®ç«¯å£æ³¨æ„è€ƒè™‘å ç”¨é—®é¢˜</li>
</ul>

<pre><code class="language-objectivec">//è®¾ç½®è½¬å‘ç«¯å£$ python tcprelay.py -t 22:12345
Forwarding local port 12345 to remote port 22
//å¦å¼€çª—å£ï¼Œä½¿ç”¨æ–°ç«¯å£ç™»é™†
ssh -p 12345 root@127.0.0.1
The authenticity of host '[127.0.0.1]:12345 ([127.0.0.1]:12345)' can't be established.
RSA key fingerprint is SHA256:pX3wqp3yEaLUk4S4lUJftC34FufQrx47Gc2e6Sm2t0U.
//IPæ›´æ¢é‡æ–°è®¤è¯
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '[127.0.0.1]:12345' (RSA) to the list of known hosts.
kumani:~ root#
</code></pre>

<h5 id="è„šæœ¬å®ç°å¿«é€Ÿç™»é™†">è„šæœ¬å®ç°å¿«é€Ÿç™»é™†</h5>
<ul>
  <li>HOMEä¸‹æ–°å»ºæ–‡ä»¶å¤¹QLshell</li>
  <li>python-clientæ‹–è¿›å»</li>
  <li>æ–°å»ºusbConnect.sh</li>
</ul>

<pre><code class="language-objectivec">//æ–‡ä»¶å¤¹å†™å…¥
python /Users/(è·¯å¾„)/QLshell/python-client/tcprelay.py -t 22:12345
</code></pre>

<ul>
  <li>æ–°å»ºlogin.sh</li>
</ul>

<pre><code class="language-objectivec">//æ–‡ä»¶å¤¹å†™å…¥
ssh root@localhost -p 12345
</code></pre>

<ul>
  <li>é…ç½®ç¯å¢ƒ</li>
</ul>

<pre><code class="language-objectivec">//ç¼–è¾‘bash_profile
$ vim ~/.bash_profile
//æ·»åŠ 
export ANDROID_HOME=~/Library/Android/sdk
export THEOS=/opt/theos/bin
export CY=/opt/cycript_0
export QLshell=~/QLshell
export PATH=$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools:/opt/theos/bin:$CY:$QLshell:$PATH
//ç¼–è¾‘zshrc
$ vim ~/.zshrc
//æ·»åŠ 
source .bash_profile
//æ‰§è¡Œ
$ source .zshrc
</code></pre>

<pre><code class="language-objectivec">//è¯•ä¸€ä¸‹å’¯ï¼Ÿ
$ sh usbConnect.sh
//å¦å¼€çª—å£
$ sh login.sh
//æ˜¯ä¸æ˜¯ç¾æ»‹æ»‹ï¼Ÿ
</code></pre>

<ul>
  <li>åŒæ ·IPï¼Œä¸ä¸€æ ·çš„å…¬é’¥ï¼Œä¼šå‡ºç°ä¸­é—´äººæ”»å‡»ï¼ŒUSBç‰¹æ•ˆæƒ…å†µ</li>
  <li>è§£å†³æ–¹æ¡ˆ</li>
</ul>
<pre><code class="language-objectivec">//keyä¸ä¸€æ ·ã€‚æ‰¾åˆ°ç›´æ¥åˆ é™¤
$ vim /Users/(userName)/.ssh/known_hosts
//åˆ é™¤å®ƒï¼Œè·Ÿä½ è„šæœ¬ä¸€æ ·çš„localhostï½
[localhost]:12345 ssh-rsa 
</code></pre>

<ul>
  <li>æœ¬åœ°ä¸æ­¢ä¿å­˜ä¸€ä¸ªå…¬é’¥</li>
  <li>æœ¬åœ°ä¸€ä¸ªIP:ç«¯å£åªèƒ½ä¿å­˜ä¸€ä¸ª</li>
</ul>

<h5 id="æ–‡ä»¶æ‹·è´">æ–‡ä»¶æ‹·è´</h5>

<pre><code class="language-objectivec">//é€šè¿‡Wi-Fiæ‹·è´
$ touch 1.txt
$ scp 1.txt root@172.17.10.118:~/
1.txt                                         100%    0     0.0KB/s   00:00
//é€šè¿‡USBæ‹·è´
$ scp -P 12345 1.txt root@localhost:~/
1.txt                                         100%    0     0.0KB/s   00:00
</code></pre>

<h5 id="åº”ç”¨ç˜¦èº«">åº”ç”¨ç˜¦èº«</h5>

<pre><code class="language-objectivec">lipo WeChat -thin arm64 -output arm64_WeChat
</code></pre>

:ET